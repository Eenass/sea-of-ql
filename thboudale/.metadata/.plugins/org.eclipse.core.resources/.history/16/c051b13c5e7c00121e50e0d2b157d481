package org.uva.sea.ql.parser.test.semantic;

import static org.junit.Assert.assertTrue;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Map;
import org.junit.Test;
import org.uva.sea.ql.ast.expressions.Ident;
import org.uva.sea.ql.ast.types.AType;
import org.uva.sea.ql.parser.antlr.ANTLRParser;
import org.uva.sea.ql.parser.test.ParseError;
import org.uva.sea.ql.visitor.StmtChecker;

public class TestStmtChecking {
	private ANTLRParser parser;
	private StmtChecker stmtChecker;
	private Map<Ident,AType> typeEnv;
	private List<String> errMsgs;
	
	public TestStmtChecking() {
		parser = new ANTLRParser();
		typeEnv = new HashMap<Ident, AType>();
		errMsgs = new ArrayList<String>();
		stmtChecker = new StmtChecker(typeEnv, errMsgs);
	}


	@Test
	public void testStmtChecking() throws ParseError {
		assertTrue(stmtChecker.check(parser.parseStatement("a: \" aaaa \" boolean"), typeEnv, errMsgs));
	}
}